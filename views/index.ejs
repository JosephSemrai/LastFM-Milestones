<%- include('header') -%>
    <header class="header">
        <div class="header-img">  
        <div class="container">  
        <div class="center-text">    
                    <h4 class="block-bg">wondering which song is your new milestone?</h4>
                    <h5 class="block-bg">just enter your username below!</h5>
                </div>
            </div>
        </div>
    </header>
    <div class="container container-margin d-flex justify-content-center">
        <form method="POST" action="/milestones">
            <div class="form-group">
                <label for="user" class="form-label">Last.fm Username</label>
                <input type="text" name="user" required minlength="1" class="form-control" value=<%= session.user %>>
                <br>
                <label class="form-label">Step</label>
                <p class="additional-info" style="line-height:0px">Note: Last option is customisable!</p>
                <div class="toggle-group">
                    <% let steps = [10000, 5000, 1000, 500, 100] %>
                        <% for (step of steps) {%>
                            <input <% if (step==10000 || step == session.step) {%>
                                checked
                                <%}%> 
                                type="radio" name="step" id="step-<%=step%>" value="<%= step %>">
                            <label for="step-<%=step%>"><%= numeral(step).format("0,0") %></label>
                        <% }%>
                        <% const customStep = session.step && (steps.indexOf(session.step) === -1) %>
                        <input <%= (customStep) ? "checked" : "" %> type="radio" name="step" id="custom" 
                            value="<%= (customStep) ? session.step : ""%>">
                        <label for="custom">
                            <input id="custom-step" class="custom-step" placeholder="0" min="100" type="number"
                                value="<%= (customStep) ? session.step : ""%>">
                        </label>
                </div>
                <br>
                <div class="row">
                    <div class="col-6 col-xs-12  d-flex align-items-center">
                        <div class="form-check">
                            <input type="checkbox" <%= session.showFirst ? "checked" : ""%> name="showFirst" class="form-check-input" id="showFirst">
                            <label for="showFirst" class="form-check-label">Show first scrobble</label>
                        </div>
                    </div>
                    <div class="col-6 col-xs-12">
                        <input id="get-milestones" type="submit" class="btn btn-primary float-right" value="Submit!">
                    </div>
                </div>
            </div>
        </form>
        </div>
    </div>
            
    <div class="recentRequests">
    <div class="container">
        <h4>Searching Now</h4>
        <div class="slidesContainer d-flex justify-content-center">

        </div>
    </div>
</div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
    <script src="js/index.js"></script>

<%- include('footer')-%>
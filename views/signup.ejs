<%- include('header') -%>
<div class="container container-margin d-flex justify-content-center align-items-center">
    <form action="/signup" method="POST">
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" pattern=".{3,}" name="username" class="form-control" id="username" placeholder="Username"
                required title="Username should be at least 3 characters">
            <small id="emailHelp" class="form-text text-muted">A username should be at least 3 characters.</small>
        </div>
        <div class="form-group">
            <label for="email">Email address</label>
            <input type="email" name="email" class="form-control" id="email" placeholder="Email" required>
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" name="password"
                class="form-control" id="password" placeholder="Password" required title="Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character">
            <small id="emailHelp" class="form-text text-muted">Minimum eight characters, at least one uppercase letter,
                one lowercase letter, one number and one special character.</small>
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input type="password" name="confirmPassword" class="form-control" id="confirmPassword" placeholder="Your password once again"
                required>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
<script>
    const password = document.getElementById("password")
    const confirmPassword = document.getElementById("confirmPassword");

    function validatePassword() {
        if (password.value != confirmPassword.value) {
            confirmPassword.setCustomValidity("Passwords Don't Match");
        } else {
            confirmPassword.setCustomValidity('');
        }
    }

    password.onchange = validatePassword;
    confirmPassword.onkeyup = validatePassword;
    
</script>
</div>
<%- include('footer')-%>